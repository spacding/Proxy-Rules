## Looné…ç½®æ–‡ä»¶
## æœ€åæ›´æ–°æ—¶é—´ï¼š2022-10-04


## é€šç”¨è®¾ç½®
[General]
# IPv6 å¼€å…³ï¼Œtrue/falseâ†’æ‰“å¼€/å…³é—­
ipv6 = false
# è·³è¿‡æŸä¸ªIPæ®µ/åŸŸåçš„ä»£ç†
skip-proxy = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, localhost, *.local, e.crashlynatics.com
bypass-tun = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.88.99.0/24, 192.168.0.0/16, 198.18.0.0/15, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32
# DNS æœåŠ¡å™¨
dns-server = system, 119.29.29.29, 223.5.5.5, 114.114.114.114
# DoH æœåŠ¡å™¨ï¼ˆonly for Wireformatï¼‰
doh-server = https://doh.pub/dns-query
# Wi-Fi ç½‘ç»œä¸‹å…¶å®ƒè®¾å¤‡è®¿é—®
allow-udp-proxy = false
allow-wifi-access = false
wifi-access-http-port = 7222
wifi-access-socket5-port = 7221
# å“åº”æµ‹è¯•
proxy-test-url = http://www.gstatic.com/generate_204
# æµ‹è¯•è¶…æ—¶ï¼ˆsï¼‰
test-timeout = 3
# èµ„æºè§£æ
resource-parser = https://raw.githubusercontent.com/Peng-YM/Sub-Store/master/backend/dist/sub-store-parser.loon.min.js
# SSID-Triggerå‚æ•°ï¼šç”¨äºæŒ‡å®šSSIDä¸‹æµé‡æ¨¡å¼åˆ‡æ¢ï¼Œï¼ˆdefaultè¡¨ç¤ºé»˜è®¤ï¼Œcellularè¡¨ç¤ºèœ‚çªï¼Œç›®å‰æ”¯æŒä¸‰ç§å€¼ï¼šruleï¼Œdirectï¼Œproxyï¼‰ 
# ssid-trigger="default":rule,"cellular":rule,"ASUS":direct,"TPLINK":proxy
# Real-IPè®¾ç½®ï¼šè§£å†³ä¸€äº›ipè¯·æ±‚æ— æ³•åŒ¹é…åŸŸåç±»è§„åˆ™çš„é—®é¢˜ã€‚real-ipæŒ‡å®šçš„åŸŸåå°†ä¸è¿”å›fake ipå“åº”ï¼Œç›´æ¥å°†dnsè¯·æ±‚å‘å¾€ç›®æ ‡dnsæœåŠ¡å™¨
real-ip = msftconnecttest.com, msftncsi.com, *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.battlenet.com.cn, *.battlenet.com, *.blzstatic.cn, *.battle.net

## åŸŸåè§£æï¼ˆå››ç§æ¨¡å¼ï¼‰
# 1ã€æŒ‡å®šåŸŸåä½¿ç”¨å¯¹åº”çš„IPåœ°å€
# 2ã€å°†åŸŸåæŒ‡å‘å¦ä¸€ä¸ªåŸŸå
# 3ã€æŒ‡å®šåŸŸåè¯·æ±‚DNSæ—¶ä½¿ç”¨ç‰¹å®šçš„DNSæœåŠ¡å™¨ï¼Œæ ¼å¼ä¸ºï¼šgoogle.com = server:8.8.8.8 æˆ–è€… *.baidu.com = server:https://example.com/dns-query
# 4ã€æŒ‡å®šå…·ä½“çš„SSIDç¯å¢ƒä¸‹ä½¿ç”¨ç‰¹å®šçš„DNSæœåŠ¡å™¨
[Host]
*.taobao.com = server:223.5.5.5
*.tmall.com = server:223.5.5.5
*.jd.com = server:119.28.28.28
*.qq.com = server:119.28.28.28
*.tencent.com = server:119.28.28.28
*.alicdn.com = server:223.5.5.5
*.aliyun.com = server:223.5.5.5
*.weixin.com = server:119.28.28.28
*.163.com = server:119.29.29.29
*.126.com = server:119.29.29.29
*.126.net = server:119.29.29.29
*.127.net = server:119.29.29.29
*.netease.com = server:119.29.29.29
*.mi.com = server:119.29.29.29
*.xiaomi.com = server:119.29.29.29
*.bilibili.com = server:119.29.29.29
*testflight.apple.com = server:8.8.4.4
mtalk.google.com = 108.177.125.188
dl.google.com = server:119.29.29.29
dl.l.google.com = server:119.29.29.29
# ssid:LOON WIFI = server:system

## æœ¬åœ°èŠ‚ç‚¹
# ä¸åŒç±»å‹çš„èŠ‚ç‚¹é…ç½®æ–¹æ³•è§å®˜æ–¹æŒ‡å¯¼ï¼šhttps://github.com/Loon0x00/LoonExampleConfig/blob/master/example.conf
[Proxy]


## è®¢é˜…èŠ‚ç‚¹
# æ ¼å¼ï¼šåˆ«å = è®¢é˜…URL
[Remote Proxy]


## èŠ‚ç‚¹ç­›é€‰
# ç­›é€‰åçš„ç»“æœå¯åŠ å…¥ç­–ç•¥ç»„ä¸­ï¼Œæ”¯æŒä¸‰ç§ç­›é€‰æ–¹å¼
# 1ã€NodeSelect: ä½¿ç”¨åœ¨UIä¸Šé€‰æ‹©çš„èŠ‚ç‚¹
# 2ã€NameKeyword: æ ¹æ®æä¾›çš„å…³é”®è¯å¯¹è®¢é˜…èŠ‚ç‚¹åç§°è¿›è¡Œç­›é€‰
# 3ã€NameRegex: æ ¹æ®æä¾›çš„æ­£åˆ™è¡¨è¾¾å¼å¯¹è®¢é˜…èŠ‚ç‚¹åç§°è¿›è¡Œç­›é€‰
[Remote Filter]
é¦™æ¸¯ = NameRegex, FilterKey = "(?i)(æ¸¯|HK|Hong)"
å°æ¹¾ = NameRegex, FilterKey = "(?i)(å°|TW|Tai)"
æ—¥æœ¬ = NameRegex, FilterKey = "(?i)(æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan)"
éŸ©å›½ = NameRegex, FilterKey = "(?i)(KR|Korea|KOR|é¦–å°”|éŸ©|éŸ“)"
ç¾å›½ = NameRegex, FilterKey = "(?i)(ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States)"
æ–°åŠ å¡ = NameRegex, FilterKey = "(?i)(æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore)"
ç½‘æ˜“è§£é” = NameRegex, FilterKey = "(?i)(unblock|music|Music|äº‘éŸ³ä¹|ğŸ§)"


## ç­–ç•¥åˆ†ç»„
# ã€url-testæ¨¡å¼ã€‘ç»™æä¾›çš„urlå‘å‡ºhttp headerè¯·æ±‚ï¼Œæ ¹æ®è¿”å›ç»“æœï¼Œé€‰æ‹©æµ‹é€Ÿæœ€å¿«çš„èŠ‚ç‚¹ï¼Œé»˜è®¤é—´éš”600sï¼Œæµ‹é€Ÿè¶…æ—¶æ—¶é—´5sï¼Œä¸ºäº†é¿å…èµ„æºæµªè´¹ï¼Œå»ºè®®èŠ‚ç‚¹æ•°ä¸è¦è¿‡å¤šï¼Œåªæ”¯æŒå•ä¸ªèŠ‚ç‚¹å’Œè¿œç«¯èŠ‚ç‚¹ï¼Œå…¶ä»–ä¼šè¢«å¿½ç•¥
# Auto = url-test,1,2,3,4,Subs,url = http://bing.com/,interval = 600
# ã€fallbackæ¨¡å¼ã€‘å’Œurl-testç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯ä¼šæ ¹æ®é¡ºåºè¿”å›ç¬¬ä¸€ä¸ªå¯ç”¨çš„èŠ‚ç‚¹ï¼Œä¸ºäº†é¿å…èµ„æºæµªè´¹ï¼Œå»ºè®®èŠ‚ç‚¹æ•°ä¸è¦è¿‡å¤šï¼Œåªæ”¯æŒå•ä¸ªèŠ‚ç‚¹å’Œè¿œç«¯èŠ‚ç‚¹ï¼Œå…¶ä»–ä¼šè¢«å¿½ç•¥
# Auto1 = fallback,1,2,3,4,Subs,url = http://bing.com/,interval = 600
# åˆ«å = ssidï¼Œé»˜è®¤ = ç­–ç•¥ï¼Œ èœ‚çª = ç­–ç•¥ï¼Œ ssidåç§° = ç­–ç•¥
# SSID = ssid, default = PROXY, cellular = DIRECT, "DivineEngine" = PROXY
#è´Ÿè½½å‡è¡¡ï¼Œå¯é€‰ä¸‰ç§ç®—æ³•ï¼šrandomï¼šéšæœºé€‰æ‹©ç­–ç•¥ç»„å¯ç”¨èŠ‚ç‚¹ï¼Œround-robinï¼šè½®è¯¢ç­–ç•¥ç»„å¯ç”¨èŠ‚ç‚¹ï¼Œpccï¼šåœ¨randomåŸºç¡€ä¸Šï¼Œé’ˆå¯¹ç›¸åŒhostä½¿ç”¨åŒä¸€èŠ‚ç‚¹ï¼Œæ­¤å¤„urlç”¨æ¥æµ‹è¯•èŠ‚ç‚¹å¯ç”¨æ€§ï¼Œæ¯éš”intervalè¿›è¡Œä¸€æ¬¡æµ‹é€Ÿï¼Œmax-timeoutå‚æ•°ç”¨äºç­›é€‰æµ‹è¯•æ—¶é—´è¶…è¿‡max-timeoutçš„èŠ‚ç‚¹ä¸ºä¸å¯ç”¨èŠ‚ç‚¹
# LoadBalance = load-balance,node1,node2,remoteNodes, url = http://bing.com, interval = 600, algorithm = pcc, max-timeout=3000
[Proxy Group]
# åˆ†æµç­–ç•¥
èŠ‚ç‚¹é€‰æ‹© = select, é¦™æ¸¯èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Proxy.png
è‹¹æœæœåŠ¡ = select, DIRECT, èŠ‚ç‚¹é€‰æ‹©, img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Apple.png
ç½‘æ˜“éŸ³ä¹ = select, DIRECT, è§£é”èŠ‚ç‚¹, img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Netease_Music.png
å¥ˆé£è§†é¢‘ = select, èŠ‚ç‚¹é€‰æ‹©, ç‹®åŸèŠ‚ç‚¹, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Netflix.png
æ²¹ç®¡è§†é¢‘ = select, èŠ‚ç‚¹é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/YouTube.png
å·´å“ˆå§†ç‰¹ = select, èŠ‚ç‚¹é€‰æ‹©, å°æ¹¾èŠ‚ç‚¹, é¦™æ¸¯èŠ‚ç‚¹, img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Bahamut.png
ç”µæŠ¥æ¶ˆæ¯ = select, èŠ‚ç‚¹é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Telegram.png
å›½å¤–åª’ä½“ = select, èŠ‚ç‚¹é€‰æ‹©, ç‹®åŸèŠ‚ç‚¹, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Streaming.png
æ¸¯å°ç•ªå‰§ = select, DIRECT, å°æ¹¾èŠ‚ç‚¹, é¦™æ¸¯èŠ‚ç‚¹, img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/StreamingSE.png
# åœ°åŒºç­–ç•¥
é¦™æ¸¯èŠ‚ç‚¹ = select, é¦™æ¸¯, img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Hong_Kong.png
å°æ¹¾èŠ‚ç‚¹ = select, å°æ¹¾, img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Taiwan.png
ç‹®åŸèŠ‚ç‚¹ = select, æ–°åŠ å¡, img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Singapore.png
éŸ©å›½èŠ‚ç‚¹ = select, éŸ©å›½, img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Korea.png
æ—¥æœ¬èŠ‚ç‚¹ = select, æ—¥æœ¬, img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Japan.png
ç¾å›½èŠ‚ç‚¹ = select, ç¾å›½, img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_States.png
è§£é”èŠ‚ç‚¹ = select, ç½‘æ˜“è§£é”, img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Netease_Music_Unlock.png
# æ¼ç½‘ä¹‹é±¼ï¼šPROXYâ†’ç™½åå•æ¨¡å¼ï¼ŒDIRECTâ†’é»‘åå•æ¨¡å¼
FINAL = select, èŠ‚ç‚¹é€‰æ‹©, DIRECT, img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Final.png
# å¹¿å‘Šæ¨¡å¼
# Advertising = select,REJECT,DIRECT




## æœ¬åœ°è§„åˆ™
# ç±»å‹ï¼šDOMAIN-SUFFIX, DOMAIN, DOMAIN-KEYWORD, USER-AGENT, URL-REGEX, IP-CIDR
# ç­–ç•¥ï¼šDIRECT, Proxy, REJECT
# å¯é€‰ï¼šno-resolve(no-resolve(only for cidr))
[Rule]
GEOIP, CN, DIRECT
FINAL, FINAL


## è¿œç¨‹è§„åˆ™è®¢é˜…
[Remote Rule]
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Advertising.list, policy=REJECT, tag=å¹¿å‘Šæ‹¦æˆª, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/TestFlight/TestFlight.list, policy=èŠ‚ç‚¹é€‰æ‹©, tag=TestFlight, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Apple/Apple.list, policy=è‹¹æœæœåŠ¡, tag=è‹¹æœæœåŠ¡, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/NetEaseMusic/NetEaseMusic.list, policy=ç½‘æ˜“éŸ³ä¹, tag=ç½‘æ˜“éŸ³ä¹, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/YouTube/YouTube.list, policy=æ²¹ç®¡è§†é¢‘, tag=æ²¹ç®¡è§†é¢‘, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Netflix/Netflix.list, policy=å¥ˆé£è§†é¢‘, tag=å¥ˆé£è§†é¢‘, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Bahamut/Bahamut.list, policy=å·´å“ˆå§†ç‰¹, tag=å·´å“ˆå§†ç‰¹, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/GlobalMedia/GlobalMedia.list, policy=èŠ‚ç‚¹é€‰æ‹©, tag=å›½å¤–åª’ä½“, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/BiliBili/BiliBili.list, policy=æ¸¯å°ç•ªå‰§, tag=å›½å†…åª’ä½“, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Telegram/Telegram.list, policy=ç”µæŠ¥æ¶ˆæ¯, tag=ç”µæŠ¥æ¶ˆæ¯, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Proxy/Proxy.list, policy=èŠ‚ç‚¹é€‰æ‹©, tag=å…¨çƒè§„åˆ™, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Proxy/Proxy_Domain.list, policy=èŠ‚ç‚¹é€‰æ‹©, tag=å…¨çƒè§„åˆ™,enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/China/China.list, policy=DIRECT, tag=å…¨çƒç›´è¿, enabled=true



## æœ¬åœ°é‡å†™
[Rewrite]
# è°·æ­Œé‡å®šå‘
^https?:\/\/(www.)?(g|google)\.cn https://www.google.com 302
# äº¬ä¸œæ¯”ä»· Fix
^https?:\/\/api\.m\.jd.com\/client\.action\?functionId=start url reject-200

## è¿œç¨‹é‡å†™è®¢é˜…
[Remote Rewrite]
# https://raw.githubusercontent.com/Loon0x00/LoonExampleConfig/master/Rewrite/AutoRewrite_Example.list, tag=auto, enable=true


## æœ¬åœ°è„šæœ¬ï¼ˆ5ç§ç±»å‹ï¼‰
# 1ã€http-request  å¤„ç†è¯·æ±‚çš„è„šæœ¬
# 2ã€http-response  å¤„ç†è¯·æ±‚å“åº”çš„è„šæœ¬
# 3ã€cron å®šæ—¶è„šæœ¬
# 4ã€network-changed  ç½‘ç»œå‘ç”Ÿå˜åŒ–è§¦å‘è„šæœ¬
# 5ã€generic  é€šç”¨å‹è„šæœ¬ï¼Œå¯ç”¨åœ¨æ“ä½œèŠ‚ç‚¹/ç­–ç•¥ç»„ä¸­ï¼Œæ‰§è¡Œæ˜¯ä¼šå¸¦å…¥èŠ‚ç‚¹åç§°å’Œç­–ç•¥ç»„åç§°ï¼Œè„šæœ¬å¿…é¡»åœ¨å¼€å¯NEæ—¶
[Script]


## è¿œç¨‹è„šæœ¬è®¢é˜…
[Remote Script]
# https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Fake_Vip.conf, tag=Fake-VIP, enabled=true
# https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Cookie.conf, tag=Cookie.è·å–å®Œä¸€å®šè¦å…³é—­, enabled=false
# https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Task.conf, tag=Task, enabled=false
# https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Script.conf, tag=Script, enabled=false
# https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/JD.conf, tag=JD, enabled=false


## æ’ä»¶è®¢é˜…
# æ ¼å¼ï¼šplugin-url, proxy=æ’ä»¶ä¸­PROXYæ‰€æŒ‡ç­–ç•¥, tag=tag, enabled=true
# pluginç­–ç•¥å¯è®¾ç½®ä¸ºDIRECT,REJECT,PROXYï¼Œå…¶ä¸­PROXYä¸ºç”¨æˆ·åœ¨appä¸­æ‰‹åŠ¨æ˜ å°„çš„ç­–ç•¥ï¼Œruleåä¸è·Ÿéšç­–ç•¥é»˜è®¤ä½¿ç”¨PROXY
[Plugin]
https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Plugin/MediaCheck.plugin, tag=Node Detection Tool, enabled=true
https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Plugin/Unlock/TikTokJP.plugin, proxy=æ—¥æœ¬èŠ‚ç‚¹, tag=Tiktok, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/Loon/Advertising/Advertising.plugin, tag=Advertising, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/Loon/Redirect/Redirect.plugin, tag=General, enabled=true
https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Plugin/TF-Download.plugin, tag=TF-Download, enabled=true
https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.loon.plugin, enabled=true
https://raw.githubusercontent.com/Peng-YM/Sub-Store/master/config/Loon.plugin, tag=è®¢é˜…è§£æå™¨, enabled=false


## MITM
[MITM]
hostname = *.example.com,*.sample.com
enable = true
skip-server-cert-verify = true
#ca-p12 =
#ca-passphrase =